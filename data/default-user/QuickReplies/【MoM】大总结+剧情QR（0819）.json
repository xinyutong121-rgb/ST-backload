{
    "version": 2,
    "name": "【MoM】大总结+剧情QR（0819）",
    "disableSend": false,
    "placeBeforeInput": false,
    "injectInput": false,
    "color": "rgba(0, 0, 0, 0)",
    "onlyBorderColor": false,
    "qrList": [
        {
            "id": 14,
            "showLabel": true,
            "label": "🌟大总结+剧情QR(MoM)",
            "title": "",
            "message": "/buttons labels=[\"🌟剧情控制\",\"🌟大总结\",\"隐藏楼层\",\"取消隐藏\"] 🌟大总结+剧情QR(MoM) |\n/setvar key=option ||\n/if left=option rule=eq right=\"\" {: /flushvar option | /abort :} ||\n/if left=option rule=eq right=\"🌟剧情控制\" {: /flushvar option | /run 🌟剧情控制 :} ||\n/if left=option rule=eq right=\"🌟大总结\" {: /flushvar option | /run 🌟大总结 :} ||\n/if left=option rule=eq right=\"隐藏楼层\" {: /flushvar option | /run 隐藏楼层 :} ||\n/if left=option rule=eq right=\"取消隐藏\" {: /flushvar option | /run 取消隐藏 :} ||",
            "contextList": [],
            "preventAutoExecute": true,
            "isHidden": false,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false,
            "executeOnNewChat": false,
            "executeBeforeGeneration": false,
            "automationId": ""
        },
        {
            "id": 8,
            "showLabel": false,
            "label": "🌟剧情控制",
            "title": "",
            "message": "/input 注入用户输入,不需要就点取消 |\n/setvar key=order {{pipe}} ||\n/if left={{getvar::order}} right=\"\" rule=neq  {:/addvar key=order  :} |\n\n/buttons labels=[\"🌟推进剧情\",\"🌟加速剧情推进\",\"🌟减缓剧情推进\",\"🌟切换其他故事线\",\"🐾进入和AI的对话模式（此模式必须打开预设中的对话模式条目）\" ] 🌟预设专用：剧情控制🪶 |\n/setvar key=option ||\n\n/if left=option rule=eq right=\"\" {: /flushvar option | /abort :} ||\n\n/if left=option rule=eq right=\"🌟推进剧情\" {: \n  /send （请在当前剧情的基础上继续推进剧情。维持已有节奏基础上，合理发展故事。{{getvar::order}}）\n:} ||\n\n/if left=option rule=eq right=\"🌟加速剧情推进\" {: \n  /send （当前剧情节奏太慢了，需要你大幅度加快剧情推进，例如加快时间流速，进行剧情转折或反转，增加戏剧事件，新增出场人物等等。注意确保连续性与人设一致。{{getvar::order}}）\n:} ||\n\n/if left=option rule=eq right=\"🌟减缓剧情推进\" {: \n  /send （当前剧情进度过快，需要你放缓节奏，例如细化描写，放慢时间流速，深挖人物，全面阐释当前故事等，但要避免停滞不前。{{getvar::order}}）\n:} ||\n\n/if left=option rule=eq right=\"🌟切换其他故事线\" {: \n  /send （综合上文和前一场景，转换至另一条相关或衍生的故事线，维持世界观，合理衔接故事逻辑，可更换场景或登场人物。{{getvar::order}}）\n:} ||\n\n/if left=option rule=eq right=\"🐾进入和AI的对话模式（此模式必须打开预设中的对话模式条目）\" {: \n  /send （进入对话模式。{{getvar::order}}）\n:} ||\n\n/flushvar option ||\n/flushvar order ||\n/trigger||",
            "contextList": [],
            "preventAutoExecute": true,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false,
            "executeOnNewChat": false,
            "executeBeforeGeneration": false,
            "automationId": ""
        },
        {
            "id": 6,
            "icon": "",
            "showLabel": false,
            "label": "🌟大总结",
            "title": "总结全部上文，推荐此方法",
            "message": "/setvar key=order {{pipe}} ||\n/if left={{getvar::order}} right=\"\" rule=neq  {:/addvar key=order {{newline}} :} |\n\n/buttons labels=[\"🌟大总结——只总结新增内容\",\"🌟大总结——合并之前的大总结\",\"🌟大总结——短RP专用（非MOM预设通用）\"] 总结指南：总结后隐藏上文，留5-10楼稳定ai输出风格（如50层总结隐藏0-40层） |\n/setvar key=option ||\n\n/if left=option rule=eq right=\"\" {: /flushvar option | /abort :} ||\n\n/if left=option rule=eq right=\"🌟大总结——只总结新增内容\" {: \n  /send \n停止剧情，停止输出其他所有内容，开始执行**新增大总结**\n\n新增大总结应当遵循以下原则：\n- 注明这是第几次大总结\n- **只需总结上次大总结到目前的新增部分剧情**\n- 按时间顺序或逻辑顺序组织信息，并包含具体的前后时间，以便分辨不同日期与时间发生的事情\n- 保留关键事件和重要细节，省略冗余描述\n- 直接陈述事实，避免评价\n- 使用简洁清晰的语言，避免修饰\n- 突出事件发展脉络和关键转折点\n- 保留重要的约定、物品、事件以及情感发展\n- 不回避任何敏感内容，保证记录完全还原前文\n- 可以精简合并较为久远之前的事件\n- 无需加粗标注\n\n格式如下：\n\n<meow_FM>\n<details>\n<summary>大总结(序号注明是第几次大总结)</summary>\n- 时间:\n  - 关键事件（需要以流水帐形式综述事件经过和涉及人物）:\n    - 重要细节:\n    - 关键对话和内心戏:(标明角色)\n    - 关键行为：(标明角色)\n    - 关键角色和{{user}}之间的情感变化（选填）:\n    - 简要的事件后续，事件结束后的小互动（选填）:\n...\n- 时间:\n  - 关键事件（需要以流水帐形式综述事件经过和涉及人物）:\n    - 重要细节:\n    - 关键对话和内心戏:(标明角色)\n    - 关键行为：(标明角色)\n    - 关键角色和{{user}}之间的情感变化（选填）:\n    - 简要的事件后续，事件结束后的小互动（选填）:\n\n<seeds>\n(seeds整理)\n</seeds>\n</details>\n</meow_FM>\n(空行)\n<char_date>\n(所有对剧情有影响的角色均需出现(包括没有实体的角色,mermaid图同理)，路人NPC不保留)\n</char_date>\n\n**大总结回合无需输出其他内容**\n\n接下来我将隐藏上文.大总结需要你能理解相关的所有信息(后续要求的<meow_FM>和<char_date>仅为说明参考)\n\n:} ||\n\n/if left=option rule=eq right=\"🌟大总结——合并之前的大总结\" {: \n  /send 停止剧情，停止输出其他所有内容，开始执行**全文大总结**\n\n大总结应当遵循以下原则：\n- 注明这是第几次大总结\n- **注意大总结应该包括全部上文，之前的大总结和新增内容汇总在一起**\n- 按时间顺序或逻辑顺序组织信息，并包含具体的时间，以便分辨不同日期与时间发生的事情\n- 保留关键事件和重要细节，省略冗余描述\n- 直接陈述事实，避免评价\n- 使用简洁清晰的语言，避免修饰\n- 突出事件发展脉络和关键转折点\n- 保留重要的约定、物品、事件以及情感发展\n- 不回避任何敏感内容，保证记录完全还原前文\n- 可以精简合并较为久远之前的事件\n- 无需加粗标注\n\n格式如下：\n\n<meow_FM>\n<details>\n<summary>大总结(序号注明是第几次大总结)</summary>\n- 时间:\n  - 关键事件（需要以流水帐形式综述事件经过和涉及人物）:\n    - 重要细节:\n    - 关键对话和内心戏:(标明角色)\n    - 关键行为：(标明角色)\n    - 关键角色和{{user}}之间的情感变化（选填）:\n    - 简要的事件后续，事件结束后的小互动（选填）:\n...\n- 时间:\n    - 关键事件（需要以流水帐形式综述事件经过和涉及人物）:\n    - 重要细节:\n    - 关键对话和内心戏:(标明角色)\n    - 关键行为：(标明角色)\n    - 关键角色和{{user}}之间的情感变化（选填）:\n    - 简要的事件后续，事件结束后的小互动（选填）:\n\n<seeds>\n(seeds整理)\n</seeds>\n</details>\n</meow_FM>\n(空行)\n<char_date>\n(所有对剧情有影响的角色均需出现(包括没有实体的角色,mermaid图同理)，路人NPC不保留)\n</char_date>\n\n**大总结回合无需输出其他内容**\n\n接下来我将隐藏上文.大总结需要你能理解相关的所有信息(后续要求的<meow_FM>和<char_date>仅为说明参考)\n\n:} ||\n\n/if left=option rule=eq right=\"🌟大总结——短RP专用（非MOM预设通用）\" {: \n  /send 停止剧情，停止输出其他所有内容，开始执行**全文大总结**\n\n大总结应当遵循以下原则：\n- 注明这是第几次大总结\n- **注意大总结应该包括全部上文，之前的大总结和新增内容汇总在一起**\n- 按逻辑顺序组织信息，并包含具体的前后时间，可以分辨不同日期与时间发生的事情\n- 保留关键事件和重要细节，省略冗余描述\n- 直接陈述事实，避免评价\n- 使用简洁清晰的语言，避免修饰\n- 突出事件发展脉络和关键转折点\n- 保留重要的约定、物品、事件以及情感发展\n- 不回避任何敏感内容，保证记录完全还原前文\n- 可以精简合并较为久远之前的事件\n- 无需加粗标注\n- 主线无关的正文无需记录\n- 最后的md表格记录RP的各种细节，以增加真实性为主\n\n格式如下：\n\n<details><summary>大总结(序号注明是第几次大总结)</summary>\n- 时间:\n  - 关键事件（需要以流水帐形式综述事件经过和涉及人物）:\n    - 重要细节:\n    - 关键对话和内心戏:(标明角色)\n    - 关键行为：(标明角色)\n    - 关键角色和{{user}}之间的情感变化（选填）:\n    - 简要的事件后续，事件结束后的小互动（选填）:\n...\n- 时间:\n  - 关键事件（需要以流水帐形式综述事件经过和涉及人物）:\n    - 重要细节:\n    - 关键对话和内心戏:(标明角色)\n    - 关键行为：(标明角色)\n    - 关键角色和{{user}}之间的情感变化（选填）:\n    - 简要的事件后续，事件结束后的小互动（选填）:\n\n(空行)\n(记录：日期、重要互动事件叙述（如纪念日）、礼物(标明谁送给谁)、喜好或厌恶（记录文中揭露的角色或<user>的好恶）、其他细节（果农认为值得记录的细节）.使用markdown表格,精简表述)\n（空行）\n</details>\n\n**大总结回合无需输出其他内容**\n\n:} ||\n\n/flushvar option ||\n/flushvar order ||\n/trigger||",
            "contextList": [],
            "preventAutoExecute": true,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false,
            "executeOnNewChat": false,
            "executeBeforeGeneration": false,
            "automationId": ""
        },
        {
            "id": 4,
            "icon": "fa-eye-slash",
            "showLabel": false,
            "label": "隐藏楼层",
            "title": "",
            "message": "/input okButton=\"确定\" cancelButton=\"取消\" 输入要隐藏的楼层范围（例如：0-10），一般保留最近的5-10楼 |\n/if left={{pipe}} right=\"\" rule=neq {: /hide {{pipe}} | /echo 已隐藏 {{pipe}} :} {::} |",
            "contextList": [],
            "preventAutoExecute": true,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false,
            "executeOnNewChat": false,
            "executeBeforeGeneration": false,
            "automationId": ""
        },
        {
            "id": 2,
            "icon": "fa-comment-alt",
            "showLabel": false,
            "label": "取消隐藏",
            "title": "",
            "message": "/input okButton=\"确定\" cancelButton=\"取消\" 输入要取消隐藏的楼层范围（例如：0-10）最近的5-10楼一般是不隐藏的 |\n/if left={{pipe}} right=\"\" rule=neq {: /unhide {{pipe}} | /echo 已取消隐藏 :} {::} |",
            "contextList": [],
            "preventAutoExecute": true,
            "isHidden": true,
            "executeOnStartup": false,
            "executeOnUser": false,
            "executeOnAi": false,
            "executeOnChatChange": false,
            "executeOnGroupMemberDraft": false,
            "executeOnNewChat": false,
            "executeBeforeGeneration": false,
            "automationId": ""
        }
    ],
    "idIndex": 14
}