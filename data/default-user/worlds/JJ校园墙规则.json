{
    "entries": {
        "0": {
            "key": [
                "格式约束"
            ],
            "keysecondary": [],
            "comment": "格式约束",
            "content": "### **AI 内容生成规则：模拟校园墙**\n\n**核心目标：** 生成一个符合特定格式的“校园墙”内容流。该内容流由一个全局容器 `[校园墙]` 和内部多个独立的“帖子”区块组成。\n\n---\n\n#### **第一部分：全局结构规则**\n\n1.  **唯一根节点：** 所有生成的内容**必须**被包裹在一个全局的 `[校园墙]` 标签内。这个标签只在整个输出的开头出现一次。\n2.  **内容主体：** `[校园墙]` 标签内部包含一个或多个“帖子”区块。每个帖子区块都是独立且完整的。\n\n---\n\n#### **第二部分：“帖子”区块结构规则**\n\n每个“帖子”区块**必须**严格遵循以下**固定顺序**和格式，不可增删或调换顺序。\n\n1.  **标题 (`[标题|$title]`)**\n    *   **格式：** `[标题|文本内容]`\n    *   **说明：** 帖子的标题。`$title` 是一个字符串。\n    *   **示例：** `[标题|寻找失物：一个蓝色的水杯]`\n\n2.  **作者 (`[作者|$writer]`)**\n    *   **格式：** `[作者|文本内容]`\n    *   **说明：** 发布帖子的用户昵称。`$writer` 是一个字符串。\n    *   **示例：** `[作者|马大哈]`\n\n3.  **时间 (`[时间|$timestamp]`)**\n    *   **格式：** `[时间|文本内容]`\n    *   **说明：** 帖子的发布时间，通常是相对时间。`$timestamp` 是一个字符串。\n    *   **示例：** `[时间|3小时前]`\n\n4.  **摘要 (`[摘要|$content]`)**\n    *   **格式：** `[摘要|文本内容]`\n    *   **说明：** 帖子的正文内容。`$content` 是一个字符串。\n    *   **示例：** `[摘要|今天下午在三教丢了一个蓝色的水杯，看到的同学麻烦联系我。]`\n\n5.  **点赞数 (`[点赞|$like_count]`)**\n    *   **格式：** `[点赞|数字]`\n    *   **说明：** 帖子的点赞数量。`$like_count` **必须**是一个非负整数。\n    *   **示例：** `[点赞|5]`\n\n6.  **评论数 (`[评论|$comment_count]`)**\n    *   **格式：** `[评论|数字]`\n    *   **说明：** 帖子的总评论数量。`$comment_count` **必须**是一个非负整数。这个数字是下面评论区的**逻辑约束**。\n    *   **示例：** `[评论|3]`\n\n7.  **评论区 (`[评论区]...[/评论区]`)**\n    *   **格式：** 以 `[评论区]` 开始，以 `[/评论区]` 结束，中间包含零条或多条评论。\n    *   **说明：** 这是帖子的评论区域，其内部的评论条目数量受到第6条规则的严格限制。\n\n---\n\n#### **第三部分：“评论区”内部规则**\n\n1.  **评论条目格式：**\n    *   **格式：** `[评论|$sender|$content]`\n    *   **说明：**\n        *   `$sender`：评论发布者的昵称（字符串）。\n        *   `$content`：评论的具体内容（字符串）。\n    *   **示例：** `[评论|隔壁老王|学姐带我！V你100！]`\n\n2.  **核心逻辑约束：**\n    *   在 `[评论区]` 和 `[/评论区]` 之间实际存在的 `[评论|$sender|$content]` 条目数量，**必须小于或等于**该帖子区块中 `[评论|$comment_count]` 标签所定义的数字。\n    *   **特别注意：** 如果 `[评论|0]`，则 `[评论区]` 和 `[/评论区]` 之间**必须为空**，不能有任何评论条目。",
            "constant": false,
            "vectorized": false,
            "selective": true,
            "selectiveLogic": 0,
            "addMemo": true,
            "order": 666,
            "position": 4,
            "disable": false,
            "ignoreBudget": false,
            "excludeRecursion": false,
            "preventRecursion": false,
            "matchPersonaDescription": false,
            "matchCharacterDescription": false,
            "matchCharacterPersonality": false,
            "matchCharacterDepthPrompt": false,
            "matchScenario": false,
            "matchCreatorNotes": false,
            "delayUntilRecursion": false,
            "probability": 100,
            "useProbability": true,
            "depth": 3,
            "outletName": "",
            "group": "",
            "groupOverride": false,
            "groupWeight": 100,
            "scanDepth": null,
            "caseSensitive": null,
            "matchWholeWords": null,
            "useGroupScoring": false,
            "automationId": "",
            "role": 0,
            "sticky": 0,
            "cooldown": 0,
            "delay": 0,
            "triggers": [],
            "uid": 0,
            "displayIndex": 0,
            "extensions": {
                "position": 4,
                "exclude_recursion": false,
                "display_index": 0,
                "probability": 100,
                "useProbability": true,
                "depth": 3,
                "selectiveLogic": 0,
                "group": "",
                "group_override": false,
                "group_weight": 100,
                "prevent_recursion": false,
                "delay_until_recursion": false,
                "scan_depth": null,
                "match_whole_words": null,
                "use_group_scoring": false,
                "case_sensitive": null,
                "automation_id": "",
                "role": 0,
                "vectorized": false,
                "sticky": 0,
                "cooldown": 0,
                "delay": 0,
                "match_persona_description": false,
                "match_character_description": false,
                "match_character_personality": false,
                "match_character_depth_prompt": false,
                "match_scenario": false,
                "match_creator_notes": false
            }
        },
        "1": {
            "key": [
                "校园墙"
            ],
            "keysecondary": [],
            "comment": "查看校园墙",
            "content": "**一、 基础设定**\n\n1.  **用户昵称 (`{{user}}`)**: 默认为 `momo`。\n\n**二、 指令与行为**\n\n1.  **当输入为 `查看校园墙` 时:**\n    *   **动作**: 严格遵循`格式约束`，随机生成 **6-10条** 帖子。\n    *   **内容要求**: 主题围绕校园生活，内容不限。\n\n**2. 当输入格式为 `搜索帖子:{{关键词}}` 时:**\n\n*   **动作**: 模拟搜索结果。你必须生成一个包含**多个独立帖子**的内容流，以列表形式呈现。\n*   **核心约束**: 生成的**每一个帖子**都必须与用户输入的 `{{关键词}}` **高度相关**。相关性应通过以下两种方式之一或组合体现：\n    1.  **直接相关**: 帖子的 `[标题]` 或 `[摘要]` 中直接包含 `{{关键词}}`。\n    2.  **语境相关**: 帖子的主题和场景与 `{{关键词}}` 紧密关联。例如，搜索“考研”，生成一个关于“图书馆占座”或“出二手专业书”的帖子，也视为高度相关。\n*   **最终目标**: 输出的结果应看起来像一个真实的、围绕关键词展开的校园墙帖子列表。同时，所有帖子必须严格遵守基础格式约束。\n\n\n3.  **当输入格式为 `{{user}}在帖子{{帖子标题}}发布评论:{{评论内容}}` 时:**\n    *   **动作**:\n        1.  在标题为 `{{帖子标题}}` 的帖子下，添加一条来自 `{{user}}` 的新评论，内容为 `{{评论内容}}`。\n        2.  根据`格式约束`确定该评论是普通评论还是回复评论。\n        3.  重新生成并展示整个校园墙内容，以体现动态变化。\n        4.  允许在其他未操作的帖子上，为NPC动态添加新评论。\n        5.  允许在该条帖子根据新发送的评论增加评论或者有新的成员发布评论。\n\n4.  **当输入格式为 `发布帖子:{{帖子标题}} {{帖子内容}}` 时:**\n        *   **动作**: 严格遵循`格式约束`，根据用户输入的帖子标题和帖子内容，生成一条用户发布的帖子放在帖子列表里，昵称是用户上面规定的为准。重新生成并展示整个校园墙内容，以体现动态变化，允许在其他未操作的帖子上，为NPC动态添加新评论。允许在该条帖子根据新发送的评论增加评论或者有新的成员发布评论。\n\n**三、严格约束**\n1. **本条目不与其他html格式共存，如状态栏、小手机、其他论坛等。当触发本条目时，只按照`格式约束`生成校园墙内容**\n2.**触发本条目时必须严格按照`格式约束`，不在中间、前面、结尾等任何地方穿插任何旁白、对话、描写等等另外的格式！！严格只生成校园墙的内容，并且必须严格按照顺序。",
            "constant": false,
            "vectorized": false,
            "selective": true,
            "selectiveLogic": 0,
            "addMemo": true,
            "order": 667,
            "position": 4,
            "disable": false,
            "ignoreBudget": false,
            "excludeRecursion": false,
            "preventRecursion": false,
            "matchPersonaDescription": false,
            "matchCharacterDescription": false,
            "matchCharacterPersonality": false,
            "matchCharacterDepthPrompt": false,
            "matchScenario": false,
            "matchCreatorNotes": false,
            "delayUntilRecursion": false,
            "probability": 100,
            "useProbability": true,
            "depth": 3,
            "outletName": "",
            "group": "",
            "groupOverride": false,
            "groupWeight": 100,
            "scanDepth": null,
            "caseSensitive": null,
            "matchWholeWords": null,
            "useGroupScoring": false,
            "automationId": "",
            "role": 0,
            "sticky": 0,
            "cooldown": 0,
            "delay": 0,
            "triggers": [],
            "uid": 1,
            "displayIndex": 1,
            "extensions": {
                "position": 4,
                "exclude_recursion": false,
                "display_index": 1,
                "probability": 100,
                "useProbability": true,
                "depth": 3,
                "selectiveLogic": 0,
                "group": "",
                "group_override": false,
                "group_weight": 100,
                "prevent_recursion": false,
                "delay_until_recursion": false,
                "scan_depth": null,
                "match_whole_words": null,
                "use_group_scoring": false,
                "case_sensitive": null,
                "automation_id": "",
                "role": 0,
                "vectorized": false,
                "sticky": 0,
                "cooldown": 0,
                "delay": 0,
                "match_persona_description": false,
                "match_character_description": false,
                "match_character_personality": false,
                "match_character_depth_prompt": false,
                "match_scenario": false,
                "match_creator_notes": false
            }
        }
    },
    "originalData": {
        "entries": [
            {
                "id": 0,
                "keys": [
                    "格式约束"
                ],
                "secondary_keys": [],
                "comment": "格式约束",
                "content": "### **AI 内容生成规则：模拟校园墙**\n\n**核心目标：** 生成一个符合特定格式的“校园墙”内容流。该内容流由一个全局容器 `[校园墙]` 和内部多个独立的“帖子”区块组成。\n\n---\n\n#### **第一部分：全局结构规则**\n\n1.  **唯一根节点：** 所有生成的内容**必须**被包裹在一个全局的 `[校园墙]` 标签内。这个标签只在整个输出的开头出现一次。\n2.  **内容主体：** `[校园墙]` 标签内部包含一个或多个“帖子”区块。每个帖子区块都是独立且完整的。\n\n---\n\n#### **第二部分：“帖子”区块结构规则**\n\n每个“帖子”区块**必须**严格遵循以下**固定顺序**和格式，不可增删或调换顺序。\n\n1.  **标题 (`[标题|$title]`)**\n    *   **格式：** `[标题|文本内容]`\n    *   **说明：** 帖子的标题。`$title` 是一个字符串。\n    *   **示例：** `[标题|寻找失物：一个蓝色的水杯]`\n\n2.  **作者 (`[作者|$writer]`)**\n    *   **格式：** `[作者|文本内容]`\n    *   **说明：** 发布帖子的用户昵称。`$writer` 是一个字符串。\n    *   **示例：** `[作者|马大哈]`\n\n3.  **时间 (`[时间|$timestamp]`)**\n    *   **格式：** `[时间|文本内容]`\n    *   **说明：** 帖子的发布时间，通常是相对时间。`$timestamp` 是一个字符串。\n    *   **示例：** `[时间|3小时前]`\n\n4.  **摘要 (`[摘要|$content]`)**\n    *   **格式：** `[摘要|文本内容]`\n    *   **说明：** 帖子的正文内容。`$content` 是一个字符串。\n    *   **示例：** `[摘要|今天下午在三教丢了一个蓝色的水杯，看到的同学麻烦联系我。]`\n\n5.  **点赞数 (`[点赞|$like_count]`)**\n    *   **格式：** `[点赞|数字]`\n    *   **说明：** 帖子的点赞数量。`$like_count` **必须**是一个非负整数。\n    *   **示例：** `[点赞|5]`\n\n6.  **评论数 (`[评论|$comment_count]`)**\n    *   **格式：** `[评论|数字]`\n    *   **说明：** 帖子的总评论数量。`$comment_count` **必须**是一个非负整数。这个数字是下面评论区的**逻辑约束**。\n    *   **示例：** `[评论|3]`\n\n7.  **评论区 (`[评论区]...[/评论区]`)**\n    *   **格式：** 以 `[评论区]` 开始，以 `[/评论区]` 结束，中间包含零条或多条评论。\n    *   **说明：** 这是帖子的评论区域，其内部的评论条目数量受到第6条规则的严格限制。\n\n---\n\n#### **第三部分：“评论区”内部规则**\n\n1.  **评论条目格式：**\n    *   **格式：** `[评论|$sender|$content]`\n    *   **说明：**\n        *   `$sender`：评论发布者的昵称（字符串）。\n        *   `$content`：评论的具体内容（字符串）。\n    *   **示例：** `[评论|隔壁老王|学姐带我！V你100！]`\n\n2.  **核心逻辑约束：**\n    *   在 `[评论区]` 和 `[/评论区]` 之间实际存在的 `[评论|$sender|$content]` 条目数量，**必须小于或等于**该帖子区块中 `[评论|$comment_count]` 标签所定义的数字。\n    *   **特别注意：** 如果 `[评论|0]`，则 `[评论区]` 和 `[/评论区]` 之间**必须为空**，不能有任何评论条目。",
                "constant": false,
                "selective": true,
                "insertion_order": 666,
                "enabled": true,
                "position": "after_char",
                "use_regex": true,
                "extensions": {
                    "position": 4,
                    "exclude_recursion": false,
                    "display_index": 0,
                    "probability": 100,
                    "useProbability": true,
                    "depth": 3,
                    "selectiveLogic": 0,
                    "group": "",
                    "group_override": false,
                    "group_weight": 100,
                    "prevent_recursion": false,
                    "delay_until_recursion": false,
                    "scan_depth": null,
                    "match_whole_words": null,
                    "use_group_scoring": false,
                    "case_sensitive": null,
                    "automation_id": "",
                    "role": 0,
                    "vectorized": false,
                    "sticky": 0,
                    "cooldown": 0,
                    "delay": 0,
                    "match_persona_description": false,
                    "match_character_description": false,
                    "match_character_personality": false,
                    "match_character_depth_prompt": false,
                    "match_scenario": false,
                    "match_creator_notes": false
                }
            },
            {
                "id": 1,
                "keys": [
                    "校园墙"
                ],
                "secondary_keys": [],
                "comment": "查看校园墙",
                "content": "**一、 基础设定**\n\n1.  **用户昵称 (`{{user}}`)**: 默认为 `momo`。\n\n**二、 指令与行为**\n\n1.  **当输入为 `查看校园墙` 时:**\n    *   **动作**: 严格遵循`格式约束`，随机生成 **6-10条** 帖子。\n    *   **内容要求**: 主题围绕校园生活，内容不限。\n\n**2. 当输入格式为 `搜索帖子:{{关键词}}` 时:**\n\n*   **动作**: 模拟搜索结果。你必须生成一个包含**多个独立帖子**的内容流，以列表形式呈现。\n*   **核心约束**: 生成的**每一个帖子**都必须与用户输入的 `{{关键词}}` **高度相关**。相关性应通过以下两种方式之一或组合体现：\n    1.  **直接相关**: 帖子的 `[标题]` 或 `[摘要]` 中直接包含 `{{关键词}}`。\n    2.  **语境相关**: 帖子的主题和场景与 `{{关键词}}` 紧密关联。例如，搜索“考研”，生成一个关于“图书馆占座”或“出二手专业书”的帖子，也视为高度相关。\n*   **最终目标**: 输出的结果应看起来像一个真实的、围绕关键词展开的校园墙帖子列表。同时，所有帖子必须严格遵守基础格式约束。\n\n\n3.  **当输入格式为 `{{user}}在帖子{{帖子标题}}发布评论:{{评论内容}}` 时:**\n    *   **动作**:\n        1.  在标题为 `{{帖子标题}}` 的帖子下，添加一条来自 `{{user}}` 的新评论，内容为 `{{评论内容}}`。\n        2.  根据`格式约束`确定该评论是普通评论还是回复评论。\n        3.  重新生成并展示整个校园墙内容，以体现动态变化。\n        4.  允许在其他未操作的帖子上，为NPC动态添加新评论。\n        5.  允许在该条帖子根据新发送的评论增加评论或者有新的成员发布评论。\n\n4.  **当输入格式为 `发布帖子:{{帖子标题}} {{帖子内容}}` 时:**\n        *   **动作**: 严格遵循`格式约束`，根据用户输入的帖子标题和帖子内容，生成一条用户发布的帖子放在帖子列表里，昵称是用户上面规定的为准。重新生成并展示整个校园墙内容，以体现动态变化，允许在其他未操作的帖子上，为NPC动态添加新评论。允许在该条帖子根据新发送的评论增加评论或者有新的成员发布评论。\n\n**三、严格约束**\n1. **本条目不与其他html格式共存，如状态栏、小手机、其他论坛等。当触发本条目时，只按照`格式约束`生成校园墙内容**\n2.**触发本条目时必须严格按照`格式约束`，不在中间、前面、结尾等任何地方穿插任何旁白、对话、描写等等另外的格式！！严格只生成校园墙的内容，并且必须严格按照顺序。",
                "constant": false,
                "selective": true,
                "insertion_order": 667,
                "enabled": true,
                "position": "after_char",
                "use_regex": true,
                "extensions": {
                    "position": 4,
                    "exclude_recursion": false,
                    "display_index": 1,
                    "probability": 100,
                    "useProbability": true,
                    "depth": 3,
                    "selectiveLogic": 0,
                    "group": "",
                    "group_override": false,
                    "group_weight": 100,
                    "prevent_recursion": false,
                    "delay_until_recursion": false,
                    "scan_depth": null,
                    "match_whole_words": null,
                    "use_group_scoring": false,
                    "case_sensitive": null,
                    "automation_id": "",
                    "role": 0,
                    "vectorized": false,
                    "sticky": 0,
                    "cooldown": 0,
                    "delay": 0,
                    "match_persona_description": false,
                    "match_character_description": false,
                    "match_character_personality": false,
                    "match_character_depth_prompt": false,
                    "match_scenario": false,
                    "match_creator_notes": false
                }
            }
        ],
        "name": "JJ校园墙规则"
    }
}